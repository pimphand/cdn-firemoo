<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firemoo CDN - Dokumentasi Lengkap</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            margin: -20px -20px 30px -20px;
            border-radius: 0;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        h2 {
            color: #667eea;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
            font-size: 2em;
        }

        h3 {
            color: #764ba2;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        h4 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .nav {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .nav ul {
            list-style: none;
        }

        .nav li {
            margin: 8px 0;
        }

        .nav a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        pre code {
            background: none;
            padding: 0;
            color: #f8f8f2;
        }

        .method {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .method-name {
            font-size: 1.3em;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .method-signature {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }

        .param {
            margin: 10px 0;
            padding-left: 20px;
        }

        .param-name {
            font-weight: bold;
            color: #667eea;
        }

        .param-type {
            color: #28a745;
            font-style: italic;
        }

        .returns {
            margin: 10px 0;
            padding-left: 20px;
        }

        .returns-type {
            color: #28a745;
            font-style: italic;
        }

        .example {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .example-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }

        .info {
            background: #d1ecf1;
            border: 1px solid #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .success {
            background: #d4edda;
            border: 1px solid #28a745;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }

        .badge-version {
            background: #28a745;
            color: white;
        }

        .badge-api {
            background: #007bff;
            color: white;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th,
        td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #667eea;
            color: white;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .toc {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin: 5px 0;
        }

        .toc a {
            color: #667eea;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        footer {
            margin-top: 60px;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #ddd;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>üî• Firemoo CDN <span class="badge badge-version">v1.0.0</span></h1>
            <p class="subtitle">Real-time Database SDK untuk Aplikasi Web</p>
        </header>

        <div class="toc">
            <h3>üìë Daftar Isi</h3>
            <ul>
                <li><a href="#introduction">1. Pengenalan</a></li>
                <li><a href="#installation">2. Instalasi</a></li>
                <li><a href="#configuration">3. Konfigurasi</a></li>
                <li><a href="#collections">4. Collections API</a></li>
                <li><a href="#documents">5. Documents API</a></li>
                <li><a href="#websocket">6. WebSocket API</a></li>
                <li><a href="#examples">7. Contoh Penggunaan</a></li>
                <li><a href="#events">8. Event Reference</a></li>
            </ul>
        </div>

        <section id="introduction">
            <h2>1. Pengenalan</h2>
            <p>Firemoo adalah SDK JavaScript untuk mengakses database real-time melalui CDN. Dengan Firemoo, Anda dapat
                dengan mudah mengelola collections, documents, dan menerima update real-time melalui WebSocket.</p>

            <div class="info">
                <strong>üìå Info:</strong> Firemoo menggunakan API Key untuk autentikasi dan mendukung koneksi WebSocket
                untuk update real-time.
            </div>

            <h3>Fitur Utama</h3>
            <ul>
                <li>‚úÖ Manajemen Collections (CRUD)</li>
                <li>‚úÖ Manajemen Documents (CRUD)</li>
                <li>‚úÖ Real-time updates melalui WebSocket</li>
                <li>‚úÖ Auto-reconnect untuk koneksi WebSocket</li>
                <li>‚úÖ Event-driven architecture</li>
                <li>‚úÖ Pagination support untuk documents</li>
                <li>‚úÖ Firestore format compatibility</li>
            </ul>
        </section>

        <section id="installation">
            <h2>2. Instalasi</h2>
            <p>Tambahkan script Firemoo ke halaman HTML Anda dengan atribut yang diperlukan:</p>

            <pre><code>&lt;script
    src="firemoo.js"
    api-key="YOUR_API_KEY"
    base-url="https://api-firemoo.dmpt.my.id"
    website-url="https://yourdomain.com"&gt;
&lt;/script&gt;</code></pre>

            <h3>Atribut Script</h3>
            <table>
                <thead>
                    <tr>
                        <th>Atribut</th>
                        <th>Wajib</th>
                        <th>Default</th>
                        <th>Deskripsi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>api-key</code> atau <code>data-api-key</code></td>
                        <td>‚úÖ Ya</td>
                        <td>-</td>
                        <td>API Key untuk autentikasi</td>
                    </tr>
                    <tr>
                        <td><code>base-url</code> atau <code>data-base-url</code></td>
                        <td>‚ùå Tidak</td>
                        <td><code>https://api-firemoo.dmpt.my.id</code></td>
                        <td>URL base server API</td>
                    </tr>
                    <tr>
                        <td><code>website-url</code> atau <code>data-website-url</code></td>
                        <td>‚ùå Tidak</td>
                        <td><code>window.location.origin</code></td>
                        <td>URL website untuk autentikasi</td>
                    </tr>
                </tbody>
            </table>

            <div class="warning">
                <strong>‚ö†Ô∏è Peringatan:</strong> API Key wajib disediakan. Jika tidak ada, script akan throw error.
            </div>
        </section>

        <section id="configuration">
            <h2>3. Konfigurasi</h2>
            <p>Setelah script dimuat, Firemoo akan otomatis membaca konfigurasi dari script tag. Anda juga dapat melihat
                konfigurasi saat ini:</p>

            <pre><code>// Mendapatkan konfigurasi saat ini
const config = firemoo.getConfig();
console.log(config);
// {
//   apiKey: "YOUR_API_KEY",
//   baseUrl: "https://api-firemoo.dmpt.my.id",
//   websiteUrl: "https://yourdomain.com"
// }</code></pre>

            <div class="info">
                <strong>üìå Info:</strong> Base URL secara otomatis menghilangkan trailing slash jika ada.
            </div>
        </section>

        <section id="collections">
            <h2>4. Collections API</h2>
            <p>API untuk mengelola collections di database.</p>

            <div class="method">
                <div class="method-name">firemoo.getCollections()</div>
                <p>Mendapatkan semua collections.</p>
                <div class="method-signature">async getCollections() ‚Üí Promise&lt;Object&gt;</div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Response dengan
                    array collections
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    const response = await firemoo.getCollections();
    console.log(response.collections); // Array of collections
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.getCollection(collectionId)</div>
                <p>Mendapatkan collection berdasarkan ID.</p>
                <div class="method-signature">async getCollection(collectionId: string) ‚Üí Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Collection
                    object
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    const collection = await firemoo.getCollection('uuid-collection-id');
    console.log(collection);
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.createCollection(name, options)</div>
                <p>Membuat collection baru.</p>
                <div class="method-signature">async createCollection(name: string, options?: Object) ‚Üí
                    Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">name</span> (<span class="param-type">string</span>) - Nama collection
                </div>
                <div class="param">
                    <span class="param-name">options</span> (<span class="param-type">Object</span>, optional) - Opsi
                    parent collection/document IDs
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Collection yang
                    dibuat
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    // Create simple collection
    const collection = await firemoo.createCollection('users');

    // Create nested collection
    const nestedCollection = await firemoo.createCollection('posts', {
        parent_collection_id: 'users-uuid',
        parent_document_id: 'user-doc-uuid'
    });
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.deleteCollection(collectionId)</div>
                <p>Menghapus collection.</p>
                <div class="method-signature">async deleteCollection(collectionId: string) ‚Üí Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Pesan sukses
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    const result = await firemoo.deleteCollection('uuid-collection-id');
    console.log(result.message); // Success message
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <h3>Alternatif: Menggunakan Object Collections</h3>
            <p>Anda juga dapat menggunakan object <code>firemoo.collections</code> secara langsung:</p>
            <pre><code>// Setara dengan firemoo.getCollections()
await firemoo.collections.getAll();

// Setara dengan firemoo.getCollection(id)
await firemoo.collections.get(collectionId);

// Setara dengan firemoo.createCollection(name, options)
await firemoo.collections.create(name, options);

// Setara dengan firemoo.deleteCollection(id)
await firemoo.collections.delete(collectionId);</code></pre>
        </section>

        <section id="documents">
            <h2>5. Documents API</h2>
            <p>API untuk mengelola documents di dalam collection.</p>

            <div class="method">
                <div class="method-name">firemoo.getDocuments(collectionId, options)</div>
                <p>Mendapatkan semua documents dalam collection dengan support pagination.</p>
                <div class="method-signature">async getDocuments(collectionId: string, options?: Object) ‚Üí
                    Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="param">
                    <span class="param-name">options</span> (<span class="param-type">Object</span>, optional) - Opsi
                    pagination:
                    <ul>
                        <li><code>page</code> (number) - Halaman yang diminta</li>
                        <li><code>limit</code> (number) - Jumlah items per halaman</li>
                    </ul>
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Response dengan
                    array documents dan info pagination
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    // Get all documents
    const response = await firemoo.getDocuments('collection-id');
    console.log(response.documents);

    // Get with pagination
    const paginated = await firemoo.getDocuments('collection-id', {
        page: 1,
        limit: 10
    });
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.getDocument(collectionId, documentId, options)</div>
                <p>Mendapatkan document berdasarkan ID.</p>
                <div class="method-signature">async getDocument(collectionId: string, documentId: string, options?:
                    Object) ‚Üí Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="param">
                    <span class="param-name">documentId</span> (<span class="param-type">string</span>) - Document ID
                </div>
                <div class="param">
                    <span class="param-name">options</span> (<span class="param-type">Object</span>, optional) - Format
                    options:
                    <ul>
                        <li><code>format</code> (string) - Format output, contoh: 'firestore'</li>
                        <li><code>project_id</code> (string) - Project ID untuk format firestore</li>
                        <li><code>database_id</code> (string) - Database ID untuk format firestore</li>
                    </ul>
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Document object
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    // Get document
    const doc = await firemoo.getDocument('collection-id', 'document-id');

    // Get with firestore format
    const firestoreDoc = await firemoo.getDocument('collection-id', 'document-id', {
        format: 'firestore',
        project_id: 'my-project',
        database_id: '(default)'
    });
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.createDocument(collectionId, data, documentId)</div>
                <p>Membuat document baru.</p>
                <div class="method-signature">async createDocument(collectionId: string, data: Object, documentId?:
                    string) ‚Üí Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="param">
                    <span class="param-name">data</span> (<span class="param-type">Object</span>) - Data document
                </div>
                <div class="param">
                    <span class="param-name">documentId</span> (<span class="param-type">string</span>, optional) -
                    Document ID custom (auto-generated jika tidak disediakan)
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Document yang
                    dibuat
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    // Create with auto-generated ID
    const doc1 = await firemoo.createDocument('collection-id', {
        name: 'John Doe',
        email: 'john@example.com',
        age: 30
    });

    // Create with custom ID
    const doc2 = await firemoo.createDocument('collection-id', {
        name: 'Jane Doe',
        email: 'jane@example.com'
    }, 'custom-doc-id');
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.updateDocument(collectionId, documentId, data)</div>
                <p>Update seluruh document (replace semua field).</p>
                <div class="method-signature">async updateDocument(collectionId: string, documentId: string, data:
                    Object) ‚Üí Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="param">
                    <span class="param-name">documentId</span> (<span class="param-type">string</span>) - Document ID
                </div>
                <div class="param">
                    <span class="param-name">data</span> (<span class="param-type">Object</span>) - Data baru untuk
                    document
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Document yang
                    diupdate
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    const updated = await firemoo.updateDocument('collection-id', 'document-id', {
        name: 'John Updated',
        email: 'john.updated@example.com',
        age: 31
    });
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.patchDocument(collectionId, documentId, data)</div>
                <p>Partial update document (hanya update field yang disediakan).</p>
                <div class="method-signature">async patchDocument(collectionId: string, documentId: string, data:
                    Object) ‚Üí Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="param">
                    <span class="param-name">documentId</span> (<span class="param-type">string</span>) - Document ID
                </div>
                <div class="param">
                    <span class="param-name">data</span> (<span class="param-type">Object</span>) - Partial data untuk
                    diupdate
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Document yang
                    diupdate
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    // Only update age field
    const patched = await firemoo.patchDocument('collection-id', 'document-id', {
        age: 32
    });
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">firemoo.deleteDocument(collectionId, documentId)</div>
                <p>Menghapus document.</p>
                <div class="method-signature">async deleteDocument(collectionId: string, documentId: string) ‚Üí
                    Promise&lt;Object&gt;</div>
                <div class="param">
                    <span class="param-name">collectionId</span> (<span class="param-type">string</span>) - Collection
                    UUID
                </div>
                <div class="param">
                    <span class="param-name">documentId</span> (<span class="param-type">string</span>) - Document ID
                </div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">Promise&lt;Object&gt;</span> - Pesan sukses
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>try {
    const result = await firemoo.deleteDocument('collection-id', 'document-id');
    console.log(result.message); // Success message
} catch (error) {
    console.error('Error:', error);
}</code></pre>
                </div>
            </div>

            <div class="info">
                <strong>üìå Perbedaan Update vs Patch:</strong><br>
                - <code>updateDocument</code> akan mengganti seluruh document dengan data baru<br>
                - <code>patchDocument</code> hanya akan mengupdate field yang disediakan, field lain tetap tidak berubah
            </div>

            <h3>Alternatif: Menggunakan Object Documents</h3>
            <p>Anda juga dapat menggunakan object <code>firemoo.documents</code> secara langsung:</p>
            <pre><code>// Setara dengan firemoo.getDocuments(id, options)
await firemoo.documents.getAll(collectionId, options);

// Setara dengan firemoo.getDocument(id, docId, options)
await firemoo.documents.get(collectionId, documentId, options);

// Setara dengan firemoo.createDocument(id, data, docId)
await firemoo.documents.create(collectionId, data, documentId);

// Setara dengan firemoo.updateDocument(id, docId, data)
await firemoo.documents.update(collectionId, documentId, data);

// Setara dengan firemoo.patchDocument(id, docId, data)
await firemoo.documents.patch(collectionId, documentId, data);

// Setara dengan firemoo.deleteDocument(id, docId)
await firemoo.documents.delete(collectionId, documentId);</code></pre>
        </section>

        <section id="websocket">
            <h2>6. WebSocket API</h2>
            <p>API untuk koneksi real-time melalui WebSocket. Firemoo WebSocket otomatis melakukan reconnect jika
                koneksi terputus.</p>

            <div class="method">
                <div class="method-name">firemoo.websocket()</div>
                <p>Membuat instance WebSocket dan otomatis connect.</p>
                <div class="method-signature">websocket() ‚Üí FiremooWebSocket</div>
                <div class="returns">
                    <strong>Returns:</strong> <span class="returns-type">FiremooWebSocket</span> - Instance WebSocket
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>// Create and auto-connect WebSocket
const ws = firemoo.websocket();

// Listen to connection events
ws.on('connected', () => {
    console.log('WebSocket connected!');
});

ws.on('disconnected', () => {
    console.log('WebSocket disconnected!');
});</code></pre>
                </div>
            </div>

            <h3>Methods WebSocket</h3>

            <div class="method">
                <div class="method-name">ws.connect(options)</div>
                <p>Connect ke WebSocket server (otomatis dipanggil oleh <code>firemoo.websocket()</code>).</p>
                <div class="method-signature">async connect(options?: Object) ‚Üí Promise&lt;void&gt;</div>
                <div class="param">
                    <span class="param-name">options</span> (<span class="param-type">Object</span>, optional):
                    <ul>
                        <li><code>onConnect</code> (Function) - Callback saat connected</li>
                        <li><code>onError</code> (Function) - Callback saat error</li>
                        <li><code>onDisconnect</code> (Function) - Callback saat disconnected</li>
                    </ul>
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>const ws = new FiremooWebSocket();
await ws.connect({
    onConnect: () => console.log('Connected!'),
    onError: (err) => console.error('Error:', err),
    onDisconnect: () => console.log('Disconnected!')
});</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">ws.subscribe(channel)</div>
                <p>Subscribe ke channel tertentu. Secara default, channel 'firestore' sudah di-subscribe saat connect.
                </p>
                <div class="method-signature">subscribe(channel: string) ‚Üí void</div>
                <div class="param">
                    <span class="param-name">channel</span> (<span class="param-type">string</span>) - Nama channel
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>ws.subscribe('notifications');
ws.subscribe('updates');</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">ws.unsubscribe(channel)</div>
                <p>Unsubscribe dari channel.</p>
                <div class="method-signature">unsubscribe(channel: string) ‚Üí void</div>
                <div class="param">
                    <span class="param-name">channel</span> (<span class="param-type">string</span>) - Nama channel
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>ws.unsubscribe('notifications');</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">ws.send(data)</div>
                <p>Mengirim message melalui WebSocket.</p>
                <div class="method-signature">send(data: Object) ‚Üí void</div>
                <div class="param">
                    <span class="param-name">data</span> (<span class="param-type">Object</span>) - Data yang akan
                    dikirim (akan di-stringify otomatis)
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>ws.send({
    action: 'custom_action',
    payload: { key: 'value' }
});</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">ws.on(event, callback)</div>
                <p>Menambahkan event listener.</p>
                <div class="method-signature">on(event: string, callback: Function) ‚Üí void</div>
                <div class="param">
                    <span class="param-name">event</span> (<span class="param-type">string</span>) - Nama event
                </div>
                <div class="param">
                    <span class="param-name">callback</span> (<span class="param-type">Function</span>) - Callback
                    function
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>ws.on('firestore:event', (data) => {
    console.log('Firestore event:', data);
});

ws.on('message', (data) => {
    console.log('Message received:', data);
});</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">ws.off(event, callback)</div>
                <p>Menghapus event listener.</p>
                <div class="method-signature">off(event: string, callback?: Function) ‚Üí void</div>
                <div class="param">
                    <span class="param-name">event</span> (<span class="param-type">string</span>) - Nama event
                </div>
                <div class="param">
                    <span class="param-name">callback</span> (<span class="param-type">Function</span>, optional) -
                    Callback spesifik untuk dihapus (jika tidak disediakan, semua listener untuk event tersebut akan
                    dihapus)
                </div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>const handler = (data) => console.log(data);

// Remove specific listener
ws.off('firestore:event', handler);

// Remove all listeners for event
ws.off('firestore:event');</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">ws.disconnect()</div>
                <p>Disconnect WebSocket dan disable auto-reconnect.</p>
                <div class="method-signature">disconnect() ‚Üí void</div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>ws.disconnect();</code></pre>
                </div>
            </div>

            <div class="method">
                <div class="method-name">ws.ping()</div>
                <p>Mengirim ping ke server.</p>
                <div class="method-signature">ping() ‚Üí void</div>
                <div class="example">
                    <div class="example-title">Contoh:</div>
                    <pre><code>ws.ping();</code></pre>
                </div>
            </div>

            <h3>Properties WebSocket</h3>
            <table>
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Type</th>
                        <th>Deskripsi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>isConnected</code></td>
                        <td>boolean</td>
                        <td>Status koneksi WebSocket</td>
                    </tr>
                    <tr>
                        <td><code>reconnectAttempts</code></td>
                        <td>number</td>
                        <td>Jumlah attempt reconnect saat ini</td>
                    </tr>
                    <tr>
                        <td><code>maxReconnectAttempts</code></td>
                        <td>number</td>
                        <td>Maximum reconnect attempts (default: 5)</td>
                    </tr>
                    <tr>
                        <td><code>reconnectDelay</code></td>
                        <td>number</td>
                        <td>Delay antar reconnect dalam ms (default: 1000)</td>
                    </tr>
                </tbody>
            </table>

            <div class="info">
                <strong>üìå Auto-Reconnect:</strong> WebSocket akan otomatis mencoba reconnect hingga 5 kali jika koneksi
                terputus. Delay akan bertambah setiap attempt (1s, 2s, 3s, 4s, 5s).
            </div>
        </section>

        <section id="events">
            <h2>7. Event Reference</h2>
            <p>Daftar event yang dapat di-listen melalui WebSocket.</p>

            <h3>Connection Events</h3>
            <table>
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Data</th>
                        <th>Deskripsi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>connected</code></td>
                        <td>-</td>
                        <td>Dipanggil saat WebSocket berhasil connect</td>
                    </tr>
                    <tr>
                        <td><code>disconnected</code></td>
                        <td>-</td>
                        <td>Dipanggil saat WebSocket disconnect</td>
                    </tr>
                    <tr>
                        <td><code>error</code></td>
                        <td>Error object</td>
                        <td>Dipanggil saat terjadi error pada WebSocket</td>
                    </tr>
                </tbody>
            </table>

            <h3>Firestore Events</h3>
            <table>
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Data</th>
                        <th>Deskripsi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>firestore:connected</code></td>
                        <td>Message object</td>
                        <td>Dipanggil saat berhasil connect ke Firestore channel</td>
                    </tr>
                    <tr>
                        <td><code>firestore:event</code></td>
                        <td>Event data</td>
                        <td>Dipanggil untuk semua event Firestore (document/collection changes)</td>
                    </tr>
                    <tr>
                        <td><code>document_*</code></td>
                        <td>Event data</td>
                        <td>Event spesifik untuk document changes (contoh: document_created, document_updated,
                            document_deleted)</td>
                    </tr>
                    <tr>
                        <td><code>collection_*</code></td>
                        <td>Event data</td>
                        <td>Event spesifik untuk collection changes (contoh: collection_created, collection_deleted)
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3>Channel Events</h3>
            <table>
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Data</th>
                        <th>Deskripsi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>channel:event</code></td>
                        <td>{ channel, event, data }</td>
                        <td>Generic event untuk semua channel events</td>
                    </tr>
                    <tr>
                        <td><code>channel:{channel}:{event}</code></td>
                        <td>Event data</td>
                        <td>Event spesifik untuk channel tertentu (contoh: channel:notifications:new)</td>
                    </tr>
                </tbody>
            </table>

            <h3>System Events</h3>
            <table>
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Data</th>
                        <th>Deskripsi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>system:event</code></td>
                        <td>{ event, data }</td>
                        <td>Generic event untuk semua system events</td>
                    </tr>
                    <tr>
                        <td><code>system:{event}</code></td>
                        <td>Event data</td>
                        <td>Event spesifik untuk system (contoh: system:ping, system:pong)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Generic Events</h3>
            <table>
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Data</th>
                        <th>Deskripsi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>message</code></td>
                        <td>Message object</td>
                        <td>Default event untuk semua message yang tidak cocok dengan pattern di atas</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="examples">
            <h2>8. Contoh Penggunaan Lengkap</h2>

            <h3>Contoh 1: CRUD Operations</h3>
            <div class="example">
                <div class="example-title">Contoh:</div>
                <pre><code>// Create Collection
const collection = await firemoo.createCollection('users');
const collectionId = collection.id;

// Create Documents
const user1 = await firemoo.createDocument(collectionId, {
    name: 'John Doe',
    email: 'john@example.com',
    age: 30
});

const user2 = await firemoo.createDocument(collectionId, {
    name: 'Jane Doe',
    email: 'jane@example.com',
    age: 28
}, 'custom-user-id'); // Custom ID

// Get All Documents
const allUsers = await firemoo.getDocuments(collectionId);

// Get Single Document
const user = await firemoo.getDocument(collectionId, user1.id);

// Update Document
await firemoo.updateDocument(collectionId, user1.id, {
    name: 'John Updated',
    email: 'john.updated@example.com',
    age: 31
});

// Patch Document (partial update)
await firemoo.patchDocument(collectionId, user1.id, {
    age: 32
});

// Delete Document
await firemoo.deleteDocument(collectionId, user1.id);

// Delete Collection
await firemoo.deleteCollection(collectionId);</code></pre>
            </div>

            <h3>Contoh 2: Real-time Updates dengan WebSocket</h3>
            <div class="example">
                <div class="example-title">Contoh:</div>
                <pre><code>// Connect WebSocket
const ws = firemoo.websocket();

// Listen to connection
ws.on('connected', () => {
    console.log('‚úÖ WebSocket connected!');
});

ws.on('disconnected', () => {
    console.log('‚ùå WebSocket disconnected!');
});

// Listen to Firestore events
ws.on('firestore:event', (event) => {
    console.log('Firestore event:', event.type, event.data);

    switch(event.type) {
        case 'document_created':
            console.log('New document created:', event.data);
            break;
        case 'document_updated':
            console.log('Document updated:', event.data);
            break;
        case 'document_deleted':
            console.log('Document deleted:', event.data);
            break;
    }
});

// Listen to specific document events
ws.on('document_created', (data) => {
    console.log('Document created:', data);
});

// Subscribe to custom channel
ws.subscribe('notifications');

ws.on('channel:notifications:new', (notification) => {
    console.log('New notification:', notification);
});

// Disconnect when done
// ws.disconnect();</code></pre>
            </div>

            <h3>Contoh 3: Pagination</h3>
            <div class="example">
                <div class="example-title">Contoh:</div>
                <pre><code>async function loadDocuments(collectionId, page = 1, limit = 10) {
    try {
        const response = await firemoo.getDocuments(collectionId, {
            page: page,
            limit: limit
        });

        console.log('Documents:', response.documents);
        console.log('Total:', response.total);
        console.log('Page:', response.page);
        console.log('Total Pages:', response.totalPages);

        return response;
    } catch (error) {
        console.error('Error loading documents:', error);
    }
}

// Load first page
await loadDocuments('collection-id', 1, 10);

// Load next page
await loadDocuments('collection-id', 2, 10);</code></pre>
            </div>

            <h3>Contoh 4: Error Handling</h3>
            <div class="example">
                <div class="example-title">Contoh:</div>
                <pre><code>async function safeOperation() {
    try {
        const collections = await firemoo.getCollections();
        return collections;
    } catch (error) {
        if (error.message.includes('API key')) {
            console.error('Authentication error:', error.message);
        } else if (error.message.includes('404')) {
            console.error('Resource not found:', error.message);
        } else if (error.message.includes('Network')) {
            console.error('Network error:', error.message);
        } else {
            console.error('Unknown error:', error.message);
        }
        throw error;
    }
}

// Usage
safeOperation()
    .then(collections => {
        console.log('Success:', collections);
    })
    .catch(error => {
        console.error('Operation failed:', error);
    });</code></pre>
            </div>

            <h3>Contoh 5: Nested Collections</h3>
            <div class="example">
                <div class="example-title">Contoh:</div>
                <pre><code>// Create parent collection
const usersCollection = await firemoo.createCollection('users');
const userDoc = await firemoo.createDocument(usersCollection.id, {
    name: 'John Doe',
    email: 'john@example.com'
});

// Create nested collection (posts under user)
const postsCollection = await firemoo.createCollection('posts', {
    parent_collection_id: usersCollection.id,
    parent_document_id: userDoc.id
});

// Create post in nested collection
const post = await firemoo.createDocument(postsCollection.id, {
    title: 'My First Post',
    content: 'This is a nested document!',
    created_at: new Date().toISOString()
});</code></pre>
            </div>

            <h3>Contoh 6: WebSocket dengan Multiple Channels</h3>
            <div class="example">
                <div class="example-title">Contoh:</div>
                <pre><code>const ws = firemoo.websocket();

// Wait for connection
ws.on('connected', () => {
    // Subscribe to multiple channels
    ws.subscribe('firestore');      // Already subscribed by default
    ws.subscribe('notifications');
    ws.subscribe('chat');
    ws.subscribe('updates');

    console.log('Subscribed to all channels');
});

// Handle firestore events
ws.on('firestore:event', (event) => {
    console.log('Firestore:', event);
});

// Handle notifications
ws.on('channel:notifications:new', (notification) => {
    console.log('New notification:', notification);
    // Show notification to user
});

ws.on('channel:notifications:read', (data) => {
    console.log('Notification read:', data);
});

// Handle chat messages
ws.on('channel:chat:message', (message) => {
    console.log('New message:', message);
    // Display in chat UI
});

// Handle updates
ws.on('channel:updates:available', (update) => {
    console.log('Update available:', update);
    // Show update notification
});

// Send custom message
ws.send({
    action: 'chat:send',
    message: 'Hello from client!',
    channel: 'chat'
});</code></pre>
            </div>
        </section>

        <section>
            <h2>9. Informasi Tambahan</h2>

            <h3>Version & Metadata</h3>
            <pre><code>console.log(firemoo.version);      // "1.0.0"
console.log(firemoo.name);          // "firemoo"
console.log(firemoo.description);   // "Firemoo is a real-time database for your web applications."
console.log(firemoo.author);        // "Pimphand"
console.log(firemoo.license);       // "MIT"</code></pre>

            <h3>Headers HTTP Request</h3>
            <p>Semua request API otomatis mengirim headers berikut:</p>
            <ul>
                <li><code>Content-Type: application/json</code></li>
                <li><code>X-API-Key: YOUR_API_KEY</code></li>
                <li><code>X-Website-Url: YOUR_WEBSITE_URL</code></li>
            </ul>

            <h3>WebSocket URL Format</h3>
            <p>WebSocket URL otomatis di-generate dari base URL:</p>
            <pre><code>// HTTP base URL: https://api-firemoo.dmpt.my.id
// WebSocket URL: ws://localhost:9090/websocket?api_key=...&website_url=...

// HTTPS base URL: https://api.example.com
// WebSocket URL: wss://api.example.com/websocket?api_key=...&website_url=...</code></pre>

            <div class="warning">
                <strong>‚ö†Ô∏è Catatan Keamanan:</strong>
                <ul>
                    <li>Jangan expose API Key di client-side jika memungkinkan (gunakan environment variables atau
                        backend proxy)</li>
                    <li>Gunakan HTTPS/WSS di production</li>
                    <li>Validasi data di server-side</li>
                    <li>Implement rate limiting di server</li>
                </ul>
            </div>

            <div class="success">
                <strong>‚úÖ Best Practices:</strong>
                <ul>
                    <li>Selalu handle error dengan try-catch</li>
                    <li>Gunakan pagination untuk large datasets</li>
                    <li>Clean up WebSocket listeners saat tidak digunakan</li>
                    <li>Disconnect WebSocket saat user logout atau page unload</li>
                    <li>Gunakan <code>patchDocument</code> untuk partial updates (lebih efisien)</li>
                </ul>
            </div>
        </section>

        <footer>
            <p><strong>Firemoo CDN</strong> v1.0.0 - Real-time Database SDK</p>
            <p>¬© 2024 Pimphand - MIT License</p>
        </footer>
    </div>
</body>

</html>
